<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
		/>
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Detalle mascota</title>
		<link href="../dist/css/styles.css" rel="stylesheet" />
		<link
			rel="icon"
			type="image/vnd.microsoft.icon"
			href="../assets/img/logo.png"
		/>
	</head>
	<body class="flex min-h-screen flex-col">
		<header class="m-2 relative z-10">
			<nav class="flex items-center justify-between">
			  <a href="../index.html" class="flex items-center gap-3">
				<img src="../assets/img/logo.png" alt="logo de adoptame" class="h-10"/>
				<p class="font-montserrat font-bold">Adoptame</p>
			  </a>
			  <!-- Version escritorio -->
			  <div class="absolute left-1/2 transform -translate-x-1/2 hidden sm:block">
				<ul class="flex gap-6 font-roboto">
				  <li><a class="underline-offset-1 hover:underline" href="../index.html">Sobre nosotros</a></li>
				  <li><a class="underline-offset-1 hover:underline" href="protectoras.html">Protectoras</a></li>
				  <li><a class="underline-offset-1 hover:underline" href="mascotas.html">Mascotas</a></li>
				</ul>
			  </div>
			  <a href="login.html"
				 class="hidden sm:block rounded-full border-2 border-customBlue px-6 py-2 font-roboto font-bold text-black transition duration-300 hover:bg-customBlue hover:text-white">
				Iniciar sesión
			  </a>
		  
			  <!-- Version movil -->
			  <button id="menu-btn" class="block sm:hidden">
				<img src="../assets/img/menu_movil.svg" alt="Abrir menú" class="w-8 h-8"/>
			  </button>
			</nav>
		  
			<!-- menu movil desplegado -->
			<ul id="menu"
				class="hidden flex-col items-center gap-4 absolute top-16 left-0 w-full bg-white p-4 shadow-lg sm:hidden">
			  <li><a class="underline-offset-1 hover:underline" href="../index.html">Sobre nosotros</a></li>
			  <li><a class="underline-offset-1 hover:underline" href="protectoras.html">Protectoras</a></li>
			  <li><a class="underline-offset-1 hover:underline" href="mascotas.html">Mascotas</a></li>
			  <li class="w-full text-center">
				<a href="login.html"
				   class="block w-full rounded-full border-2 border-customBlue px-6 py-2 font-roboto font-bold text-black transition duration-300 hover:bg-customBlue hover:text-white">
				  Iniciar sesión
				</a>
			  </li>
			</ul>
		  </header>
		  
		  <script>
			const menuBtn = document.getElementById("menu-btn");
			const menu = document.getElementById("menu");
			// Mostrar el menu al hacer click en el desplegable
			menuBtn.addEventListener("click", () => {
			  menu.classList.toggle("hidden");
			});
		  </script>

		<main class="flex flex-grow items-center justify-center bg-customPurple">
			<section
				id="seccion-principal"
				class="flex flex-grow items-center justify-center bg-customPurple">
			</section>
		</main>
		<footer class="flex w-full justify-evenly bg-customBlack p-4 text-white">
			<div class="flex flex-col gap-3 font-roboto">
				<a href="../index.html" class="flex items-center gap-5">
					<img
						src="../assets/img/logo.png"
						alt="logo de adoptame"
						class="h-10"
					/>
					<p class="font-montserrat text-2xl font-bold">
						Adóptame, plataforma de adopción
					</p>
				</a>
				<div class="flex items-center justify-around">
					<p>Siguenos en nuestras redes sociales:</p>
					<img class="h-8 w-8" src="../assets/img/facebook.png" alt="logo de Facebook" />
					<img class="h-8 w-8" src="../assets/img/instagram.png" alt="logo de Instagram" />
					<img class="h-8 w-8" src="../assets/img/twitter.png" alt="logo de Twitter" />
					<img class="h-8 w-8" src="../assets/img/linkedin.png" alt="logo de Linkedin" />
					<img class="h-8 w-8" src="../assets/img/youtube.png" alt="logo de Youtube" />
				</div>
				<span>2024 ©Adóptame - Todos los derechos reservados</span>
			</div>
			<div class="flex justify-between gap-3 font-roboto">
				<div class="flex flex-col gap-3">
					<p class="font-bold">Horario de atención</p>
					<p>De Lunes a Sábado de 9 a 18 horas</p>
				</div>
				<div class="flex flex-col gap-3">
					<p class="font-bold">Contacto</p>
					<p>948000000</p>
					<p>info@adoptame.es</p>
				</div>
			</div>
		</footer>
		<script>
			const urlParams = new URLSearchParams(window.location.search);
			const idMascota = urlParams.get("id");
			console.log(idMascota);

			let mascota;

			fetch("../backend/backend.json")
				.then(respuesta => {
				if (!respuesta.ok) {
					throw new Error(`Error HTTP: ${respuesta.status}`);
				}
				return respuesta.json();
				})
				.then(datos => {
				mascota = datos.mascotas.find(masc => masc.id == idMascota);

				if (mascota) {
					mostrarDetalles(mascota);
				} else {
					console.error("Mascota no encontrada");
					document.getElementById("seccion-principal").innerHTML = `<p class="text-2xl">Mascota no encontrada</p>`;
				}
				})
				.catch(error => console.error("Error al obtener datos:", error));

			function mostrarDetalles(mascota) {
				document.getElementById("seccion-principal").innerHTML = `
				<div class="container flex max-w-4xl overflow-hidden rounded-lg bg-white shadow-lg my-10 mx-10">
					<div class="flex w-2/5 items-center justify-center p-4">
						<img src="" id="imagenMascota"alt="" class="h-auto w-[100%] rounded-lg object-cover shadow-lg"/>
					</div>
					<div class="my-4 flex w-3/5 flex-col justify-between p-4">
						<div class="mb-5 w-full">
							<h2 id="nombreMascota" class="text-4xl font-bold text-gray-800"></h2>
						</div>
						<div class="grid grid-cols-2 items-center gap-2">
							<p id="edadMascota" class="text-lg text-gray-600"><span class="font-semibold">Edad: </span></p>
							<p id="generoMascota" class="text-lg text-gray-600"><span class="font-semibold">Género: </span></p>
							<p id="protectoraMascota" class="text-lg text-gray-600"><span class="font-semibold">Protectora: </span></p>
							<p id="localizacionMascota" class="text-lg text-gray-600"><span class="font-semibold">Ubicación: </span></p>
							<p id="descripcionMascota" class="col-span-2 text-lg text-gray-600"><span class="font-semibold">Descripción: </span></p>
						</div>
						<div class="mt-4 flex items-center justify-center">
							<button class="rounded-lg bg-customBlue px-4 py-2 text-white transition hover:bg-blue-400">Adóptame</button>
						</div>
					</div>
				</div>`;
				document.getElementById("imagenMascota").src = mascota.imagen;
				document.getElementById("imagenMascota").alt = `Foto de ${mascota.nombre}`;
				document.getElementById("nombreMascota").textContent = mascota.nombre;
				document.getElementById("edadMascota").textContent = `${mascota.edad} año(s)`;
				document.getElementById("generoMascota").textContent = mascota.genero;
				document.getElementById("protectoraMascota").textContent = mascota.protectora;
				document.getElementById("localizacionMascota").textContent = mascota.provincia;
				document.getElementById("descripcionMascota").textContent = mascota.descripcion;	
			}

		</script>
	</body>
</html>
